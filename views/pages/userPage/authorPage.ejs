<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <title>Author Page</title>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css" />
  <!-- Custom styles for this template -->
  <link href="../../stylesheets/userPages.css" rel="stylesheet">
  <script src="userPages.js"></script>

</head>

<body>

  <%- include('../../header.ejs') %>

  <div class="container">
    <div class="nav-spacer"></div>

    <!-- Support the author -->
<section class="author-support-section">
  <div class="container">
    <h2 class="text-center" style="color: rgb(0, 0, 0);">Support the Author on their Support Page</h2>
    <div class="row">
      <% if (supportLinks && supportLinks.length > 0) { %>
        <% if (supportLinks.length === 1) { %>
          <div class="col-md-12 text-center">
            <div class="support-item">
              <p>Support the author through this link</p>
              <a href="<%= supportLinks[0] %>" class="btn btn-primary">Support</a>
            </div>
          </div>
        <% } else { %>
          <% supportLinks.forEach((link, index) => { %>
            <div class="col-md-<%= supportLinks.length === 1 ? '12' : '4' %>">
              <div class="support-item text-center">
                <p>Support the author through this link</p>
                <a href="<%= link %>" class="btn btn-primary">Support</a>
              </div>
            </div>
          <% }); %>
        <% } %>
      <% } else { %>
        <p class="text-center">No support links available.</p>
      <% } %>
    </div>
  </div>
</section>

    <div class="support-spacer"></div>
    <div class="divider"></div>
    <div class="support-spacer"></div>

    <!-- About the Author -->
    <h3> About the Author</h3>
    <div class="about-the-author">
      <p><%= author.about || "I don't like to talk about myself" %></p>
      <img src="<%= author.authorImg || '/images/default-author-img.jpg' %>" style="max-width: 300px; align-items: right; margin-top:-60px;">
    </div>

    <div class="support-spacer"></div>
    <div class="divider"></div>
    <div class="support-spacer"></div>

    <!-- Created Works -->
    <h2>Created Works</h2>

    <!-- Content Section -->
    <section class="content-section">
      <div class="row content-viewer">
        <% if (publishedItems && publishedItems.length > 0) { %>
          <% publishedItems.forEach((item, index) => { %>
            <div class="col-sm-3">
              <a href="/item/<%= item.itemNumber %>" class="thumbnail-link">
                <div class="thumbnail">
                  <img src="<%= item.imageUrl || '/images/default-image.jpg' %>" alt="<%= item.name %>">
                  <div class="caption">
                    <h3><%= item.name %></h3>
                    <p><%= item.price === 0 ? 'FREE' : '$' + item.price %></p>
                  </div>
                </div>
              </a>
            </div>
            <% if ((index + 1) % 4 === 0) { %>
              </div><div class="row content-viewer">
            <% } %>
          <% }); %>
        <% } else { %>
          <h4 class="text-center">No published items yet.</h4>
        <% } %>
      </div>
    </section>

  </div>

  <div class="nav-spacer"></div>
  <div class="nav-spacer"></div>
  <%- include('../../footer.ejs') %>


  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
  <script src="/js/bootstrap.min.js"></script>
  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
</body>

</html>